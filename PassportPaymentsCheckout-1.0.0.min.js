function receivePPMessage(e){var t=e.data;if("removeppframe"==t.message){var a=document.getElementById("passportpayments-checkout-modal");a.parentNode.removeChild(a)}else"token"==t.message&&ppClientCallBack(t.value)}var ppClientCallBack,PassportPaymentsBuy=function(e,t,a){this.appkey=e,this.frameurl=t+"/paymodal/"+e+"/",ppClientCallBack=a};PassportPaymentsBuy.prototype.openForm=function(e,t){this.frameurl+=e,"undefined"!=typeof t&&"undefined"!=typeof t.email&&(this.frameurl+="?email="+t.email),ifrm=document.createElement("IFRAME"),ifrm.setAttribute("src",this.frameurl),ifrm.setAttribute("style","transition: 0.25s background;z-index: 9999; display: block; background: rgba(0, 0, 0, 0.1); border: 0px none transparent; overflow: hidden; visibility: visible; margin: 0px; padding: 0px; position: fixed; left: 0px; top: 0px; width: 100%; height: 100%;"),ifrm.setAttribute("allowtransparency","true"),ifrm.setAttribute("frameborder","0"),ifrm.setAttribute("id","passportpayments-checkout-modal"),document.body.appendChild(ifrm)},PassportPaymentsBuy.prototype.closeForm=function(){var e=document.getElementById("passportpayments-checkout-modal");e.parentNode.removeChild(e)},window.addEventListener("message",receivePPMessage,!1);